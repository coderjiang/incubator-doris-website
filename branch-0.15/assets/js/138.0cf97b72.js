(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{577:function(a,t,o){"use strict";o.r(t);var e=o(55),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[o("h1",{attrs:{id:"c-format-code"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#c-format-code"}},[a._v("#")]),a._v(" C++ Format Code")]),a._v(" "),o("p",[a._v("Doris use "),o("code",[a._v("Clang-format")]),a._v(" to automatically check the format of your source code.")]),a._v(" "),o("h2",{attrs:{id:"code-style"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#code-style"}},[a._v("#")]),a._v(" Code Style")]),a._v(" "),o("p",[a._v("Doris Code Style is based on Google's, makes a few changes. The customized .clang-format\nfile is in the root dir of Doris.\nNow, .clang-format file only works on clang-format-8.0.1+.")]),a._v(" "),o("h2",{attrs:{id:"preparing"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#preparing"}},[a._v("#")]),a._v(" Preparing")]),a._v(" "),o("p",[a._v("You should install clang-format, or you can use clang-format plugins which support by IDEs or Editors.")]),a._v(" "),o("h3",{attrs:{id:"install-clang-format"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#install-clang-format"}},[a._v("#")]),a._v(" Install clang-format")]),a._v(" "),o("p",[a._v("Ubuntu: "),o("code",[a._v("apt-get install clang-format")])]),a._v(" "),o("p",[a._v("Mac: "),o("code",[a._v("brew install clang-format")])]),a._v(" "),o("p",[a._v("The current release is 10.0, you can specify old version, e.g.")]),a._v(" "),o("p",[o("code",[a._v("apt-get install clang-format-9")])]),a._v(" "),o("p",[a._v("Centos 7:")]),a._v(" "),o("p",[a._v("The version of clang-format installed by yum is too old. Compiling clang from source\nis recommended.")]),a._v(" "),o("h3",{attrs:{id:"clang-format-plugins"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#clang-format-plugins"}},[a._v("#")]),a._v(" Clang-format plugins")]),a._v(" "),o("p",[a._v('Clion IDE supports the plugin "ClangFormat", you can search in '),o("code",[a._v("File->Setting->Plugins")]),a._v("\nand download it.\nBut the version is not match with clang-format. Judging from the options supported,\nthe version is lower than clang-format-9.0.")]),a._v(" "),o("h2",{attrs:{id:"usage"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[a._v("#")]),a._v(" Usage")]),a._v(" "),o("h3",{attrs:{id:"cmd"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cmd"}},[a._v("#")]),a._v(" CMD")]),a._v(" "),o("p",[a._v("Change directory to the root directory of Doris sources and run the following command:\n"),o("code",[a._v("build-support/clang-format.sh")])]),a._v(" "),o("p",[a._v("NOTE: Python3 is required to run the "),o("code",[a._v("clang-format.sh")]),a._v(" script.")]),a._v(" "),o("h3",{attrs:{id:"using-clang-format-in-ides-or-editors"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#using-clang-format-in-ides-or-editors"}},[a._v("#")]),a._v(" Using clang-format in IDEs or Editors")]),a._v(" "),o("h4",{attrs:{id:"clion"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#clion"}},[a._v("#")]),a._v(" Clion")]),a._v(" "),o("p",[a._v("If using the plugin 'ClangFormat' in Clion, choose "),o("code",[a._v("Reformat Code")]),a._v(" or press the keyboard\nshortcut.")]),a._v(" "),o("h4",{attrs:{id:"vs-code"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#vs-code"}},[a._v("#")]),a._v(" VS Code")]),a._v(" "),o("p",[a._v("VS Code needs install the extension 'Clang-Format', and specify the executable path of\nclang-format in settings.")]),a._v(" "),o("p",[a._v("Open the vs code configuration page and search "),o("code",[a._v("clang_format")]),a._v(", fill the box as follows.")]),a._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v('"clang_format_path": "$clang-format path$",\n"clang_format_style": "file"\n')])])]),o("p",[a._v("Then, right click the file and choose "),o("code",[a._v("Format Document")]),a._v(".")])])}),[],!1,null,null,null);t.default=r.exports}}]);